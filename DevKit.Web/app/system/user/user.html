<div class="webFormPostion">
	<section class="widgetForm" style="width:925px">
		<legend style="background: rgba(15, 43, 89, 0.1	);">
			<table><tr height="12px"><td> </td></tr></table>
			<table style="color:white; width:100%">
				<tr>
					<td width="20px"></td>
					<td> System \ User <i class="fa fa-spinner fa-spin" ng-show="loading"></i> <button class="btn btn-default pull-right" ng-show="viewModel.id > 0" ng-click="remove()">Remove</button></td>
					<td width="20px"></td>
				</tr>
				<tr height="12px"></tr>
			</table>
		</legend>
		<div style="padding-left:25px;padding-top:7px;width:100%;min-height:320px;height:100%;">
			<tabset class="tabs-left" style="min-height:320px;font-size:13px;width:850px">
				<tab heading="User">
					<div style="width:100%;min-height:320px;background:rgba(15, 43, 89, 0.25);">
						<table>
							<thead>
								<tr>
									<th width="20px"></th>
									<th width="140px"></th>
									<th width="300px"></th>
									<th width="20px"></th>
								</tr>
							</thead>
							<tr height="12px"></tr>
							<tr height="40px" ng-show="viewModel.id > 0">
								<td></td>
								<td>Id</td>
								<td>
									<b>{{viewModel.id}}</b>
								</td>
								<td></td>
							</tr>
							<tr height="40px">
								<td></td>
								<td>User Login</td>
								<td>
									<input type="text" focus="true" class="form-control input-transparent" ng-maxlength="100" 
										   ng-disabled="!permModel.edicao" ng-style="style_stLogin" ng-model="viewModel.stLogin">
								</td>
								<td></td>
							</tr>
							<tr height="40px">
								<td></td>
								<td>
									Profile
								</td>
								<td>
									<input type="hidden" name="perfil" style="width:100%" ui-select2="selectPerfis" ng-disabled="!permModel.edicao" ng-model="viewModel.fkProfile" />
								</td>
							</tr>
							<tr height="40px">
								<td></td>
								<td>Active</td>
								<td>
									<input name="ativo" type="checkbox" ng-disabled="!permModel.edicao" ng-model="viewModel.bActive" checked />
								</td>
							</tr>

							<tr height="20px"></tr>

							<tr height="40px">
								<td></td>
								<td colspan="2">
									<button class="btn btn-danger" ng-show="errorMain">{{errorMainMsg}} </button>
								</td>
							</tr>

						</table>
					</div>
				</tab>

				<tab heading="Phones" disabled="true" ng-if="viewModel.id == undefined"></tab>
				<tab heading="Phones [{{viewModel.phones.length}}]" ng-if="viewModel.id != undefined">
					<div style="width:100%;min-height:320px;background:rgba(15, 43, 89, 0.25);">
						<br />
						<table width="100%">
							<tr height="12px"></tr>
							<tr>
								<td width="20px"></td>
								<td>
									<legend style="color:aliceblue">
										Phone list
										<button class="btn btn-info btn-xs pull-right" ng-click="addNewPhone()"><i class="fa fa-plus"> </i>  Add new </button>
									</legend>
									<div ng-if="addPhone == true">
										<table>
											<tr>
												<td>
													<table>
														<tr height="42px">
															<td width="120px">New Phone</td>
															<td width="200px">
																<input type="text" class="form-control input-transparent" ng-style="style_stPhone"
																	   ng-maxlength="14" ui-mask="{{maskPhone}}" ui-mask-placeholder ui-mask-placeholder-char="_"
																	   ng-model="newPhone.stPhone">
															</td>
														</tr>
														<tr height="42px">
															<td>Description</td>
															<td>
																<input type="text" class="form-control input-transparent" ng-maxlength="100" ng-style="style_stDescription"
																	   ng-model="newPhone.stDescription">
															</td>
														</tr>
													</table>
												</td>
											</tr>
										</table>
										<br />
										<table>
											<tr>
												<td>
													<button class="btn btn-primary" ng-click="saveNewPhone()">Salvar </button>
												</td>
												<td width="20px"></td>
												<td>
													<button class="btn btn-danger" ng-show="errorPhone">{{errorPhoneMsg}} </button>
												</td>
											</tr>
										</table>
										<br />
										<br />
									</div>
									<div ng-show="viewModel.phones.length > 0">
										<br />
										<table class="table table-hover" ng-if="viewModel.phones.length > 0" style="width:100%">
											<thead>
												<tr>
													<th>Telefone</th>
													<th>Local</th>
													<th width="70px" class="colunaRemover">REMOVE</th>
												</tr>
											</thead>
											<tr data-ng-repeat="mdl in viewModel.phones">
												<td>{{ mdl.stPhone }}</td>
												<td>{{ mdl.stDescription }}</td>
												<td class="colunaRemover">
													<a href="" role="button" ng-click="removePhone($index, viewModel.phones)">
														<i class="glyphicon glyphicon-remove" style="color:white"></i>
													</a>
												</td>
											</tr>
										</table>
									</div>
								</td>
								<td width="20px"></td>
							</tr>
						</table>
					</div>
				</tab>

				<tab heading="Emails" disabled="true" ng-if="viewModel.id == undefined"></tab>
				<tab heading="Emails [{{viewModel.emails.length}}]" ng-if="viewModel.id != undefined">
					<div style="width:100%;min-height:320px;background:rgba(15, 43, 89, 0.25);">
						<br />
						<table width="100%">
							<tr height="12px"></tr>
							<tr>
								<td width="20px"></td>
								<td>
									<legend style="color:white">
										Lista de emails
										<button class="btn btn-info btn-xs pull-right" ng-click="adicionarEmail()"><i class="fa fa-plus"> </i> Adicionar </button>
									</legend>
									<div ng-if="addEmail == true">
										<table>
											<tr height="28px">
												<td width="150px">Novo email</td>
												<td width="200px">
													<input type="text" class="form-control input-transparent" ng-maxlength="100" ng-style="style_stEmail"
														   ng-model="novoEmail.stEmail">
												</td>
											</tr>
										</table>
										<br />
										<table>
											<tr>
												<td>
													<button class="btn btn-primary" ng-click="salvarNovoEmail()">Salvar </button>
												</td>
												<td width="20px"></td>
												<td>
													<button class="btn btn-danger" ng-show="errorEmail">{{errorEmailMsg}} </button>
												</td>
											</tr>
										</table>
										<br />
										<br />
									</div>
									<div ng-show="viewModel.emails.length > 0">
										<br />
										<table class="table table-hover" ng-if="viewModel.emails.length > 0" style="width:100%">
											<thead>
												<tr>
													<th>Email</th>
													<th>Data</th>
													<th width="70px" class="colunaRemover">REMOVER</th>
												</tr>
											</thead>
											<tr data-ng-repeat="email in viewModel.emails | orderBy:-dtCriacao">
												<td>{{ email.stEmail }}</td>
												<td>{{ email.dtCriacao | date:'dd/MM/yyyy HH:mm'}}</td>
												<td class="colunaRemover">
													<a href="" role="button" ng-click="removerEmail($index, viewModel.emails)">
														<i class="glyphicon glyphicon-remove" style="color:white"></i>
													</a>
												</td>
											</tr>
										</table>
									</div>
								</td>
								<td width="20px"></td>
							</tr>
						</table>
					</div>
				</tab>

			</tabset>
		</div>
		<br />
		<br />
		<table>
			<tr>
				<td width="34px"></td>
				<td><button class="btn btn-default" ng-click="list()">Cancel</button> </td>
				<td width="34px"></td>
				<td><button class="btn btn-primary" ng-click="save()">Save</button></td>
			</tr>
		</table>
		<br />
		<br />
	</section>
</div>